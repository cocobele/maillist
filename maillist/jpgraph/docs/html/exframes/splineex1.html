<code><font color="#000000">
<font color="#0000CC">&lt;?php<br /></font><font color="#006600">include </font><font color="#CC0000">"../jpgraph.php"</font><font color="#006600">;<br />include </font><font color="#CC0000">"../jpgraph_line.php"</font><font color="#006600">;<br />include </font><font color="#CC0000">"../jpgraph_scatter.php"</font><font color="#006600">;<br />include </font><font color="#CC0000">"../jpgraph_regstat.php"</font><font color="#006600">;<br /><br /></font><font color="#FF9900">// Original data points<br /></font><font color="#0000CC">$xdata </font><font color="#006600">= array(</font><font color="#0000CC">1</font><font color="#006600">,</font><font color="#0000CC">3</font><font color="#006600">,</font><font color="#0000CC">5</font><font color="#006600">,</font><font color="#0000CC">7</font><font color="#006600">,</font><font color="#0000CC">9</font><font color="#006600">,</font><font color="#0000CC">12</font><font color="#006600">,</font><font color="#0000CC">15</font><font color="#006600">,</font><font color="#0000CC">17.1</font><font color="#006600">);<br /></font><font color="#0000CC">$ydata </font><font color="#006600">= array(</font><font color="#0000CC">5</font><font color="#006600">,</font><font color="#0000CC">1</font><font color="#006600">,</font><font color="#0000CC">9</font><font color="#006600">,</font><font color="#0000CC">6</font><font color="#006600">,</font><font color="#0000CC">4</font><font color="#006600">,</font><font color="#0000CC">3</font><font color="#006600">,</font><font color="#0000CC">19</font><font color="#006600">,</font><font color="#0000CC">12</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// Get the interpolated values by creating<br />// a new Spline object.<br /></font><font color="#0000CC">$spline </font><font color="#006600">= new </font><font color="#0000CC">Spline</font><font color="#006600">(</font><font color="#0000CC">$xdata</font><font color="#006600">,</font><font color="#0000CC">$ydata</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// For the new data set we want 40 points to<br />// get a smooth curve.<br /></font><font color="#006600">list(</font><font color="#0000CC">$newx</font><font color="#006600">,</font><font color="#0000CC">$newy</font><font color="#006600">) = </font><font color="#0000CC">$spline</font><font color="#006600">-&gt;</font><font color="#0000CC">Get</font><font color="#006600">(</font><font color="#0000CC">50</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// Create the graph<br /></font><font color="#0000CC">$g </font><font color="#006600">= new </font><font color="#0000CC">Graph</font><font color="#006600">(</font><font color="#0000CC">300</font><font color="#006600">,</font><font color="#0000CC">200</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">SetMargin</font><font color="#006600">(</font><font color="#0000CC">30</font><font color="#006600">,</font><font color="#0000CC">20</font><font color="#006600">,</font><font color="#0000CC">40</font><font color="#006600">,</font><font color="#0000CC">30</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">title</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Natural cubic splines"</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">title</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFont</font><font color="#006600">(</font><font color="#0000CC">FF_ARIAL</font><font color="#006600">,</font><font color="#0000CC">FS_NORMAL</font><font color="#006600">,</font><font color="#0000CC">12</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">subtitle</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">'(Control points shown in red)'</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">subtitle</font><font color="#006600">-&gt;</font><font color="#0000CC">SetColor</font><font color="#006600">(</font><font color="#CC0000">'darkred'</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">SetMarginColor</font><font color="#006600">(</font><font color="#CC0000">'lightblue'</font><font color="#006600">);<br /><br /></font><font color="#FF9900">//$g-&gt;img-&gt;SetAntiAliasing();<br /><br />// We need a linlin scale since we provide both<br />// x and y coordinates for the data points.<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">SetScale</font><font color="#006600">(</font><font color="#CC0000">'linlin'</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// We want 1 decimal for the X-label<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">xaxis</font><font color="#006600">-&gt;</font><font color="#0000CC">SetLabelFormat</font><font color="#006600">(</font><font color="#CC0000">'%1.1f'</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// We use a scatterplot to illustrate the original<br />// contro points.<br /></font><font color="#0000CC">$splot </font><font color="#006600">= new </font><font color="#0000CC">ScatterPlot</font><font color="#006600">(</font><font color="#0000CC">$ydata</font><font color="#006600">,</font><font color="#0000CC">$xdata</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// <br /></font><font color="#0000CC">$splot</font><font color="#006600">-&gt;</font><font color="#0000CC">mark</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFillColor</font><font color="#006600">(</font><font color="#CC0000">'red@0.3'</font><font color="#006600">);<br /></font><font color="#0000CC">$splot</font><font color="#006600">-&gt;</font><font color="#0000CC">mark</font><font color="#006600">-&gt;</font><font color="#0000CC">SetColor</font><font color="#006600">(</font><font color="#CC0000">'red@0.5'</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// And a line plot to stroke the smooth curve we got<br />// from the original control points<br /></font><font color="#0000CC">$lplot </font><font color="#006600">= new </font><font color="#0000CC">LinePlot</font><font color="#006600">(</font><font color="#0000CC">$newy</font><font color="#006600">,</font><font color="#0000CC">$newx</font><font color="#006600">);<br /></font><font color="#0000CC">$lplot</font><font color="#006600">-&gt;</font><font color="#0000CC">SetColor</font><font color="#006600">(</font><font color="#CC0000">'navy'</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// Add the plots to the graph and stroke<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">Add</font><font color="#006600">(</font><font color="#0000CC">$lplot</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">Add</font><font color="#006600">(</font><font color="#0000CC">$splot</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">();<br /><br /></font><font color="#0000CC">?&gt;<br /></font><br /></font>
</code>